<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Blast Off!</title>
    <link rel="stylesheet" 
	href="../styles/style.css">
	<script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
	<script>
	// Initialize Firebase
	var config = {
    apiKey: "AIzaSyCHAGlFcD8WzHbEDeTmb6BOZ7XHGAEZB2E",
    authDomain: "grad-party-rsvp.firebaseapp.com",
    databaseURL: "https://grad-party-rsvp.firebaseio.com",
    projectId: "grad-party-rsvp",
    storageBucket: "",
    messagingSenderId: "1029606656078"
	};
	firebase.initializeApp(config);
	</script>
	
	<script>
	var Ref = firebase.database().ref();
	var rsvpRef = firebase.database().ref().child("Responses");
	rsvpRef.on("value",function(snapshot) {
		var headcount = 0;
		snapshot.forEach(function(childSnapshot) {
			var obj = childSnapshot.val();
			if(obj == "YES")
			{
				headcount++;
			}
		});
		Ref.child("Headcount").set(headcount);
	});
	
	function rsvpSubmit() {
		var rawname = document.getElementById("name").value;
		var name = rawname.toLowerCase();
		var form_elements = document.getElementById("rsvpForm").elements;
		var rsvpAnswer = form_elements['rsvp'].value;
		
		if (name == "" || rsvpAnswer == "")
		{
			window.alert("Not a valid response!");
		}
		else if (rsvpAnswer == "YES")
		{
			rsvpRef.child(name).set(rsvpAnswer);
			window.alert("Thank you "+name+", I can't wait to see you!");
		}
		
		else if (rsvpAnswer == "NO")
		{
			rsvpRef.child(name).set(rsvpAnswer);
			window.alert("I'm sorry you can't make it, "+name+"!");
		}
		rsvpForm.reset();	
	}
	
	function openWinHome() {
	   window.location.href = "../";
	}
	
	function linkBBB() {
	   location.href = "https://www.bedbathandbeyond.com:443/store/giftregistry/view_registry_guest.jsp?registryId=545862959&eventType=College%2fUniversity&pwsurl=";
	}
	</script>
  </head>
  <body>
	<audio controls autoplay>
		<source src="../audio/mars.mp3" type="audio/mpeg">
	</audio>
	<div class="header">
		<ul>
			<li><input class= "buttonblast" target="home" type="button" value="Check out my personal webpage!" onclick="openWinHome()"></li>
			<li><img src="../images/buzz.jpeg" alt="buzz"/></li>
		</ul>
	</div>
   <center>
   <div class="homespacer">
   </div>
   <h2>Blast off into Noah's future!</h2>
   <p>We hope you can join us as Noah graduates to the next phase of the mission<br/>and ventures into the deep, dark unknown of college.</p>
   <br/>
   <div class="image">
      <img src="../images/starman.jpg" alt="starman" />
	  <div class="shadowblast">
	  </div>
	</div>
	<br/>
	<div class = "row">
		<div class="columnR">
			<p><b>When?</b></p>
			<p>Brunch - July 8, 2018 @ 11am</p>
			<br/>
			<div class="googleCalendar" align="center">
				<p class = "googleCalendar"><b>Add the event to your...</b></p>
				<a class = "googleCalendar" target="_blank" href="https://calendar.google.com/event?action=TEMPLATE&amp;tmeid=MXJrZ2ljdWU4aWhoM2k0bWY2b2twOGhxdDQgOHZkdDd1cTA1cjM4OGE4amw5dDZvZ2ZxbWNAZw&amp;tmsrc=8vdt7uq05r388a8jl9t6ogfqmc%40group.calendar.google.com"><img border="0" src="https://www.google.com/calendar/images/ext/gc_button1_en.gif"></a>
			</div>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<form id="rsvpForm">
				<label class="rsvpLabel"><b>Will you be in attendance?</b><br/>(submit once for each member of your party)</label>
				<br/>
				<br/>
				<label class="rsvpLabel">Name:</label>
				<input id="name" class="nameText" type="text" placeholder="Enter your name..."></input>
				<br/>
				<br/>
				<input id="radioY" class="rsvpRadio" type="radio" name="rsvp" value="YES"> 
				<label class="rsvpLabel">YES</label>
				<input id="radioN" class="rsvpRadio" type="radio" name="rsvp" value="NO">
				<label class="rsvpLabel">NO</label>
				<br/>
				<br/>
				<input class= "buttonblast" target="submit" type="button" value="Submit" onclick="rsvpSubmit()">
			</form>
		</div>
		<div class="columnL">
			<p><b>Where?</b></p>
			<p>The Telford Inn</p>
			<p>145 Bridgeton Pike</p>
			<p>Mantua Township, NJ, 08051</p>
			<p>USA, Earth</p>
			<br/>
			<br/>
			<iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d12262.452467988132!2d-75.1727564!3d39.7932369!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0xf79009cc28b1b001!2sThe+Telford+Inn!5e0!3m2!1sen!2sus!4v1523842225743" width="400" height="300" frameborder="0" style="border:0" allowfullscreen></iframe>
		</div>
	</div>
	<br/>
	<br/>
	<p><b>Due to transportation logistics, we ask that any gifts be given in the form of gift cards or cash.<br/>Dorm room essentials will be purchased in Georgia to reduce moving expenses.</b></p>
    <br/>
    <br/>
   </center>
   </body>
</html>